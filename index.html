<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ðŸ”¥ Cool Car Racing Game ðŸ”¥</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: #111;
    font-family: 'Arial', sans-serif;
  }
  canvas {
    display: block;
    margin: 0 auto;
    background: linear-gradient(#555, #222);
    border: 5px solid #fff;
  }
  #score {
    position: absolute;
    top: 10px;
    left: 10px;
    color: #fff;
    font-size: 24px;
    font-weight: bold;
    text-shadow: 2px 2px 5px #000;
  }
</style>
</head>
<body>
<div id="score">Score: 0</div>
<canvas id="gameCanvas" width="500" height="700"></canvas>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

let car = {
  x: canvas.width / 2 - 25,
  y: canvas.height - 120,
  width: 50,
  height: 100,
  speed: 7,
  color: 'red'
};

let keys = {};
let obstacles = [];
let score = 0;
let gameOver = false;

// Handle key presses
document.addEventListener('keydown', e => keys[e.key] = true);
document.addEventListener('keyup', e => keys[e.key] = false);

// Create obstacles
function createObstacle() {
  let width = Math.random() * 100 + 50;
  let x = Math.random() * (canvas.width - width);
  obstacles.push({ x, y: -100, width, height: 20, color: 'blue' });
}

// Update game state
function update() {
  if (keys['ArrowLeft'] && car.x > 0) car.x -= car.speed;
  if (keys['ArrowRight'] && car.x + car.width < canvas.width) car.x += car.speed;

  // Move obstacles
  obstacles.forEach(obs => obs.y += 5);

  // Check collisions
  obstacles.forEach(obs => {
    if (
      car.x < obs.x + obs.width &&
      car.x + car.width > obs.x &&
      car.y < obs.y + obs.height &&
      car.y + car.height > obs.y
    ) {
      gameOver = true;
    }
  });

  // Remove off-screen obstacles & increase score
  obstacles = obstacles.filter(obs => obs.y < canvas.height);
  score += 0.01;
  document.getElementById('score').innerText = 'Score: ' + Math.floor(score);

  // Add new obstacles
  if (Math.random() < 0.02) createObstacle();
}

// Draw everything
function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Draw road lines
  ctx.fillStyle = '#fff';
  for (let i = 0; i < canvas.height; i += 40) {
    ctx.fillRect(canvas.width/2 - 5, i + (Date.now()/10 % 40), 10, 20);
  }

  // Draw car
  ctx.fillStyle = car.color;
  ctx.fillRect(car.x, car.y, car.width, car.height);

  // Draw obstacles
  obstacles.forEach(obs => {
    ctx.fillStyle = obs.color;
    ctx.fillRect(obs.x, obs.y, obs.width, obs.height);
  });
}

// Game loop
function loop() {
  if (!gameOver) {
    update();
    draw();
    requestAnimationFrame(loop);
  } else {
    ctx.fillStyle = 'white';
    ctx.font = '50px Arial';
    ctx.fillText('GAME OVER', canvas.width/2 - 150, canvas.height/2);
  }
}

loop();
</script>
</body>
</html>
